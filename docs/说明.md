# yugioh-engine


## 效果
### 效果发动条件（时间、地点）
### 效果作用对象
### 效果作用范围
### 效果处理结果
### 效果处理优先级
### 效果生效时间
### 效果发动处理

## 连锁
### 连锁处理逻辑
       while 玩家发动效果 {
            效果入栈
            if 效果是可以被连锁的 and 存在可发动和连锁的效果{
                通知玩家发动连锁
                if 没有玩家发动连锁 {
                    跳出循环
                }
            }
        }
        计算栈中的效果
        计算方法：
            1. 取出效果A
            2. 执行效果A
### 可连锁效果

### 不可连锁效果


## 效果
### 效果文本
### 时点
### 效果对象

### 效果处理
1. 卡片效果比基本规则优先
2. 发动之后，效果基本都会处理
3. 效果存在一个以上效果处理的场合，按卡片效果的书写顺序进行处理，不能处理的场合，后续的处理都不
执行。
4. 效果处理中，不能做出令该处理无法进行的选择。
5. 1个效果处理时，双方要同时进行该处理的场合，回合玩家优先处理。
6. 效果处理中不能发动其他卡的效果，效果处理中满足必发效果发动时点的效果在效果处理终了时点发动。
7. 效果处理期内，在时点上视为效果处理进行中，即使不处理效果，也不能发动其他卡的效果。

### 控制者
1. 卡片控制者是使用该卡的玩家。
2. 发动该效果的玩家是控制者。

### 小数点以下的数值
1. 采用四舍五入

### 0以下的数值
因任何效果而导致攻击力•守备力数值下降，结果数值为0以下的场合，该数值为0。而且，此时下降的数值
参照实际变动的数值。
> 例：「黑羽龙」的『那个攻击力下降取除的黑羽指示物数量×700的数值，并给与对方基本分下降数值的
> 伤害』效果导致攻击力1000的怪兽攻击力下降1400的场合，结果该怪兽攻击力为0，对对方基本分造成
> 1000点伤害。但那个怪兽适用的攻击力下降效果仍是下降1400而不是下降1000，给其装备「恶魔之斧」
> 后其攻击力是600而不是1000。

## 效果发动
1. 卡片的效果分为入连锁的效果和满足条件的场合不入连锁立即适用的效果。
1. 魔法•陷阱卡在场上变成表侧时一定入连锁发动。这称为「卡的发动」。
1. 仅限在场上表侧存在时持续适用的效果（怪兽的永续效果/永续魔法/场地魔法/灵摆怪兽的P效果/永续陷阱）
基本上都是不入连锁即适用的效果。 

### 效果的发动
1. 效果的发动
2. 怪兽的起动效果/诱发效果/诱发即时效果为入连锁的「效果的发动」
3. 魔法•陷阱的「效果的发动」不能用『卡的发动无效』的效果无效。
      1. 以下的效果是可以进行效果的发动的卡的例子。
      2. 卡片发动完之后，可以在场上发动的效果
      3. 在墓地存在的时候或送去墓地时可以发动的效果
      
### COST
1. cost指卡片•效果发动时所必需的条件。
2. 支付cost必须在发动的时候进行，即使该卡•该效果的发动被无效，支付的cost也不能取回。
3. 玩家无法支付必要的cost的场合不能发动该卡片。
4. cost不视为卡片效果。
5. 没有特别的卡片文本指定，cost只能从自己控制的卡片中支付。
> 例：作为『把自己场上1只名字带有「武神」的兽战士族怪兽解放才能发动』的「武神逐」的发动cost
> 可以把场上里侧表示的「武神-倭」解放。
6. 「大宇宙」适用的情况下，送去墓地的怪兽会被除外的场合也可以解放。这个场合，被解放的怪兽不送去
墓地而从游戏中除外。